// Generated by CoffeeScript 1.12.2
var errors, isNumber, notImplemented, treat404AsOtherError;

errors = require('resin-errors');

isNumber = require('lodash/isNumber');

exports.notImplemented = notImplemented = function() {
  throw new Error('The method is not implemented.');
};

exports.onlyIf = function(condition) {
  return function(fn) {
    if (condition) {
      return fn;
    } else {
      return notImplemented;
    }
  };
};

exports.isId = isNumber;

treat404AsOtherError = function(replacementError) {
  return function(error) {
    if (error.code === 'ResinRequestError' && error.statusCode === 404) {
      replacementError.stack = error.stack;
      throw replacementError;
    } else {
      throw error;
    }
  };
};

exports.treat404AsMissingApplication = function(nameOrId) {
  return treat404AsOtherError(new errors.ResinApplicationNotFound(nameOrId));
};

exports.treat404AsMissingDevice = function(uuidOrId) {
  return treat404AsOtherError(new errors.ResinDeviceNotFound(uuidOrId));
};
